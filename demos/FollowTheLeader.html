<html>
 <head>
  <link rel="stylesheet" type="text/css" href="..//core/foam.css" />
  <script language="javascript" src="../core/bootFOAM.js"></script>
  <title>FOAM</title>
 </head>
 <body>
  <script language="javascript">
    apar(
    arequire('foam.graphics.CView'),
    arequire('foam.input.Mouse'),
    arequire('foam.util.Timer'),
    arequire('foam.graphics.Circle'))(function() {

    var timer = foam.util.Timer.create({});
    var space = foam.graphics.CView.create({
      width: 2000,
      height: 1000,
      background:'#fff'});
    // timer.write();
    space.write();
    // space.erase = function() {}; // uncomment for nice effect

    var mouse = foam.input.Mouse.create();
    mouse.connect(space.$);

    var COUNT = 100;
    var s = [];
    for ( var i = 0 ; i < COUNT ; i++ ) {
       s[i] = foam.graphics.Circle.create({
          x: Math.random()*300+300,
          y: Math.random()*300+300,
          r: Math.random()*20+2,
          color: 'hsla(' + 1440*i/COUNT + ', 90%, 60%, .3)'
       });
       space.addChild(s[i]);
    }

    for ( var i = 1 ; i < COUNT ; i++ )
       Movement.moveTowards(timer, s[i-1], s[i], 5-4.8*i/COUNT);

    Movement.moveTowards(timer, mouse, s[0], 5);

    space.paint();
    timer.start();
    });
  </script>

 </body>
</html>
